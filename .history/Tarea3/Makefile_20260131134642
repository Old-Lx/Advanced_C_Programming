# Variables #
SRC := ./Tarea3/src
BUILD := ./Tarea3/build
BIN_FOLDER := ${BUILD}/bin
OUTPUT_NAME := main

# Compilation variables for C
C_FILES := $(wildcard ${SRC}/*.c) $(wildcard ${SRC}/sensores/*.c)
C_OBJS := $(patsubst ${SRC}/%.c, ${BUILD}/%.o, ${C_FILES})

.PHONY: all clean

all: $(BIN_FOLDER)/$(OUTPUT_NAME)

$(BIN_FOLDER)/$(OUTPUT_NAME): $(C_OBJS)
	@echo $C_OBJS
	@mkdir -p $(BIN_FOLDER)
	@gcc $^ -o $@

$(BUILD)/%.o: $(SRC)/%.c ${SRC}/sensores/%.c
	@mkdir -p $(BUILD)
	@gcc -c $< -o $@

clean:
	sudo rm -fr ${BUILD}